import t,{useRef as e,useState as n,Fragment as o,cloneElement as i}from"react";import*as a from"react-dom";var r=function(){return r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};var s={toast_container:"style_toast_container__DT-ei","toast-message":"style_toast-message__-UN8x","top-center":"style_top-center__zZFy4","bottom-center":"style_bottom-center__NH15O",center:"style_center__GLmmM","toast-content":"style_toast-content__jaj36","toast-theme-content":"style_toast-theme-content__JPkou",clickable:"style_clickable__F3Zx7",loading:"style_loading__tn5sw","spinner-wrap":"style_spinner-wrap__kOodK",spinner:"style_spinner__mu5OS",spin:"style_spin__Ez3u3"};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("#style_toast_container__DT-ei * {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.style_toast-message__-UN8x {\n  opacity: 0;\n  position: fixed;\n  z-index: 1000;\n  width: -webkit-max-content;\n  width: -moz-max-content;\n  width: max-content;\n  max-width: 90%;\n  -webkit-transition: opacity 0.3s, -webkit-transform 0.3s;\n  transition: opacity 0.3s, -webkit-transform 0.3s;\n  transition: opacity 0.3s, transform 0.3s;\n  transition: opacity 0.3s, transform 0.3s, -webkit-transform 0.3s;\n}\n.style_top-center__zZFy4,\n.style_bottom-center__NH15O,\n.style_center__GLmmM {\n  left: 50%;\n}\n.style_toast-message__-UN8x.toast-enter-active,\n.style_toast-message__-UN8x.toast-appear-active {\n  opacity: 1;\n}\n.style_toast-message__-UN8x.toast-exit-active {\n  opacity: 0;\n}\n.style_toast-content__jaj36 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.style_toast-theme-content__JPkou {\n  -webkit-transition: all 0.2s;\n  transition: all 0.2s;\n}\n.style_clickable__F3Zx7 {\n  cursor: pointer;\n}\n.style_loading__tn5sw .style_spinner-wrap__kOodK {\n  visibility: visible;\n  opacity: 1;\n  width: 1.1em;\n  margin-right: 12px;\n}\n.style_spinner-wrap__kOodK {\n  display: inline-block;\n  visibility: hidden;\n  opacity: 0;\n  width: 0;\n  margin-right: 0;\n}\n.style_spinner__mu5OS {\n  display: block;\n  overflow: hidden;\n  width: 1.1em;\n  height: 1.1em;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top-color: #fff;\n  vertical-align: middle;\n  text-indent: -99999px;\n  -webkit-animation: style_spin__Ez3u3 1s ease-in-out infinite;\n          animation: style_spin__Ez3u3 1s ease-in-out infinite;\n}\n@-webkit-keyframes style_spin__Ez3u3 {\n  to {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes style_spin__Ez3u3 {\n  to {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n");var l,c=r({},a),d=c.version,u=c.render;c.unmountComponentAtNode;try{Number((d||"").split(".")[0])>=18&&c.createRoot&&(l=c.createRoot)}catch(t){}function f(t){var e=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&"object"==typeof e&&(e.usingClientEntryPoint=t)}var _="__rc_react_root__";function p(t,e){null==l?function(t,e){u(t,e)}(t,e):function(t,e){f(!0);var n=e[_]||l(e);f(!1),n.render(t),e[_]=n}(t,e)}var m=function(){return Date.now()+Math.floor(1e16*Math.random())},v=function(){return"undefined"!=typeof window},g=function(t,e){var n=t.replace(/[rgb(]|[)]/g,"").split(",").map((function(t){return t.trim()})),o=n[0],i=n[1],a=n[2];return"rgba(".concat(o,", ").concat(i,", ").concat(a,", ").concat(e,")")},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(Boolean).join(" ")},h=2147483647,y={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right",CENTER:"center"},x={DARK:"dark",DARK_EDGE:"dark-edge",LIGHT:"light",LIGHT_EDGE:"light-edge",PINK_DAWN:"pink-dawn",CHROMA:"chroma",BLUE_DUSK:"blue-dusk",OCEAN_WAVE:"ocean-wave",SUNSET:"sunset",MOONLIGHT:"moonlight",FROSTED_GLASS:"frosted-glass",SUCCESS:"success",INFO:"info",WARNING:"warning",FAILURE:"failure",PLAIN:"plain"};function E(){return E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},E.apply(this,arguments)}var k={"toast-blue-dusk":"_toast-blue-dusk_pnidt_1","toast-chroma":"_toast-chroma_1u0sn_1","toast-dark-edge":"_toast-dark-edge_z8drx_1","toast-dark":"_toast-dark_1uck5_1","toast-failure":"_toast-failure_1xuna_1","toast-frosted-glass":"_toast-frosted-glass_lv9sk_1","toast-frosted-glass-wrapper":"_toast-frosted-glass-wrapper_lv9sk_6","toast-info":"_toast-info_v91zz_1","toast-light-edge":"_toast-light-edge_8cluo_1","toast-light":"_toast-light_1t8t0_1","toast-moonlight":"_toast-moonlight_128j9_1","toast-ocean-wave":"_toast-ocean-wave_1cgng_1","toast-pink-dawn":"_toast-pink-dawn_13jqk_1","toast-plain":"_toast-plain_11plr_1","toast-success":"_toast-success_1dljs_1","toast-sunset":"_toast-sunset_1tanv_1","toast-warning":"_toast-warning_ohu7r_1"},w="undefined"!=typeof window?t.useLayoutEffect:t.useEffect;function O(e){var n=e.color,o=n&&g(n,.3);return t.createElement("span",{className:s["spinner-wrap"]},t.createElement("span",{className:s.spinner,style:{border:"2px solid ".concat(o),borderTopColor:n}},"loading"))}function T(o){var i=o.id,a=o.message,r=o.className,l=o.clickable,c=o.position,d=o.isExit,u=o.render,f=o.theme,_=o.offsetX,p=o.offsetY,m=o.baseOffsetX,v=o.baseOffsetY,g=o.zIndex,h=o.loading,x=o.onClick,T=o._onEnter,N=e(null),C=null==c?void 0:c.includes("top"),I=null==c?void 0:c.includes("bottom"),R=null==c?void 0:c.includes("right"),z=null==c?void 0:c.includes("left"),S=null==c?void 0:c.includes("-center"),j=c===y.CENTER,A=n(!1),L=A[0],D=A[1],U=n({transform:"translate(".concat(_,", ").concat(j?"calc(50% - 20px)":"".concat(parseInt(p||"0")+20*(C?-1:1),"px"),")")}),Y=U[0],F=U[1],G=n(!!h),P=G[0],X=G[1],B=n(),H=B[0],M=B[1],K=j?"50%":C?v:void 0,V=I?v:void 0,W=R?m:void 0,Z=S||j?"50%":z?m:void 0;w((function(){var t="translate(".concat(_,", ").concat(p,")");F({top:K,right:W,bottom:V,left:Z,zIndex:g,transform:t,WebkitTransform:t})}),[_,p,g,K,W,V,Z]),w((function(){var t;if(null!=(null===(t=N.current)||void 0===t?void 0:t.clientHeight)&&!L){var e=N.current.clientWidth,n=N.current.clientHeight;N.current&&(null==T||T({target:N.current,width:e,height:n})),D(!0)}}),[L,T]),w((function(){if(N.current){var t=N.current.querySelector("span"),e=t&&window.getComputedStyle(t).color;e&&M(e)}}),[]),w((function(){if(h instanceof Promise)return X(!0),void h.then((function(){X(!1)}));X(!!h)}),[h]);var q=b(s["toast-message"],s[c||"bottom-center"],k["toast-".concat(f,"-wrapper")],L?"toast-enter-active":"",d?"toast-exit-active":"",P?s.loading:""),J=b(s["toast-content"],l?s.clickable:"",!u&&k["toast-".concat(f)],!u&&f?s["toast-theme-content"]:"",f||"",r),Q={onClick:x,tabIndex:0,role:"button"};return t.createElement("div",{ref:N,id:i.toString(),className:q,style:Y},t.createElement("div",E({className:J},l&&Q),P&&t.createElement(O,{color:H}),u?u(a):a))}var N=function(t){return!(!t||"object"!=typeof t)&&("message"in t||"duration"in t||"loading"in t)},C=[],I=function(){var t,e,n,o=v()&&document.getElementById(s.toast_container);v()&&!o&&(e=s.toast_container,(n=document.createElement("div")).setAttribute("id",e),t=n,document.body.appendChild(t)),C&&Array.isArray(C)||(C=[])},R={duration:3e3,className:"",position:"bottom-center",offsetX:30,offsetY:30,gap:10,clickClosable:!1,render:null,maxVisibleToasts:null,isReversedOrder:!1,theme:null,zIndex:null},z=function(t){var e=Object.values(y);if(!e.includes(t))throw new Error("Invalid position value. Expected one of ".concat(e.join(", ")," but got ").concat(t));return!0},S=function(t){v()&&(t.theme&&(R.theme=t.theme),t.duration&&(R.duration=t.duration),t.className&&(R.className=t.className),t.position&&z(t.position)&&(R.position=t.position),t.clickClosable&&(R.clickClosable=t.clickClosable),t.render&&(R.render=t.render),t.maxVisibleToasts&&(R.maxVisibleToasts=t.maxVisibleToasts),t.isReversedOrder&&(R.isReversedOrder=t.isReversedOrder),null!=t.zIndex&&(R.zIndex=t.zIndex),null!=t.offsetX&&(R.offsetX=t.offsetX),null!=t.offsetY&&(R.offsetY=t.offsetY),null!=t.gap&&(R.gap=t.gap))};function j(){return t.createElement(t.Fragment,null,C.map((function(e){var n=e.position.includes("top")?function(t){for(var e=[],n=t.length-1;n>=0;n--)e.push(t[n]);return e}(C):C,a=n.findIndex((function(t){return t.id===e.id})),r=n.slice(a+1).filter((function(t){return t.position===e.position&&!t.isExit})),s=r.reduce((function(t,n){var o;return t+(null!==(o=n.height)&&void 0!==o?o:0)+e.gap}),0),l=e.position.includes("left")||e.position.includes("right")?"0%":"-50%",c=s*(e.position.includes("top")?1:-1),d="center"===e.position?"calc(-50% - ".concat(-1*c,"px)"):"".concat(c,"px");return t.createElement(o,{key:e.id},i(e.component,{isExit:e.isExit,offsetX:l,offsetY:d,_onEnter:function(t){return function(t,e){C.forEach((function(n){n.id===t.id&&(n.startCloseTimer(),n.height=e.height)})),A()}(e,t)}}))})))}var A=function(){if(v()){var e=document.getElementById(s.toast_container);e&&p(t.createElement(j,null),e)}},L=function(){C.forEach((function(t){return t.isExit=!0})),A()};function D(t,e){var n,o=C.findIndex((function(e){return e.id===t}));C[o]&&(C[o].isExit=!0),null===(n=e.onCloseStart)||void 0===n||n.call(e),A(),setTimeout((function(){var n;C=C.filter((function(e){return e.id!==t})),null===(n=e.onClose)||void 0===n||n.call(e),A()}),300)}function U(e,n){var o;if(!v())return{close:function(){return null},updateDuration:function(){return null},update:function(){return null}};var i=m(),a=n||{},s=a.duration,l=a.clickable,c=void 0!==l&&l,d=a.clickClosable,u=void 0===d?R.clickClosable:d,f=a.className,_=void 0===f?R.className:f,p=a.position,g=void 0===p?R.position:p,b=a.offsetX,y=void 0===b?R.offsetX:b,x=a.offsetY,E=void 0===x?R.offsetY:x,k=a.gap,w=void 0===k?R.gap:k,O=a.maxVisibleToasts,S=void 0===O?R.maxVisibleToasts:O,j=a.isReversedOrder,L=void 0===j?R.isReversedOrder:j,U=a.render,Y=void 0===U?R.render:U,F=a.theme,G=void 0===F?R.theme:F,P=a.zIndex,X=void 0===P?R.zIndex:P,B=a.loading,H=a.onClick,M=void 0===H?void 0:H,K=a.onClose,V=void 0===K?void 0:K,W=a.onCloseStart,Z=void 0===W?void 0:W,q=void 0===s?R.duration:s,J={onClose:V,onCloseStart:Z};z(g),I();var Q=function(t){u&&(o&&clearTimeout(o),D(i,J)),null==M||M(t)},$=function(t,e){void 0===t&&(t=q),null===t||0===t||t>h||(o&&clearTimeout(o),o=window.setTimeout((function(){D(i,r(r({},J),{onCloseStart:function(){var t;null==e||e(),null===(t=J.onClose)||void 0===t||t.call(J)}}))}),t))},tt={id:i,message:e,position:g,startCloseTimer:$,gap:w,component:t.createElement(T,{id:i,message:e,className:_,clickable:c||u,position:g,baseOffsetX:y,baseOffsetY:E,render:Y,theme:G,zIndex:X||void 0,loading:B,onClick:Q})};if(L?C.unshift(tt):C.push(tt),S)for(var et=C.length-S,nt=0;nt<et;nt++)D(C[nt].id,J);return A(),{close:function(){return D(i,J)},updateDuration:function(t){void 0===t&&(t=q),$(t)},update:function(n,o){var a,r,s=C.findIndex((function(t){return t.id===i})),l=N(n)?n.duration:o;if(C[s]){var d=null!==(a=N(n)?n.message:n)&&void 0!==a?a:e,f=!!N(n)&&(null!==(r=n.loading)&&void 0!==r?r:B),p=N(n)?n.theme:G;C[s].message=d,C[s].component=t.createElement(T,{id:i,message:d,className:_,clickable:c||u,position:g,baseOffsetX:y,baseOffsetY:E,render:Y,theme:p,loading:f,onClick:Q})}A(),void 0!==l&&$(l)}}}function Y(t,e){return U(t,"number"==typeof e||null===e?{duration:e}:e)}var F=function(t){var e=m();return function(n,o){if("number"==typeof o)return U(n,{toastInstanceId:e,duration:o||t.duration});if(void 0===o||"object"==typeof o)return U(n,r(r({toastInstanceId:e},t),o));throw new Error("Invalid durationOrOptions type")}};export{x as Themes,L as clearToasts,F as createToast,Y as default,S as toastConfig};
//# sourceMappingURL=index.es.js.map
